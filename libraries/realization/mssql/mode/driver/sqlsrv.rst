======
Sqlsrv
======


::

    MSSQL的官方支持方法对应类


+-------------+-------------------------------------------+
|属性         |值                                         |
+=============+===========================================+
|命名空间     |fize\\db\\realization\\mssql\\mode\\driver |
+-------------+-------------------------------------------+
|类名         |Sqlsrv                                     |
+-------------+-------------------------------------------+


:方法:


+----------------------+-------------------------------------------------+
|方法名                |说明                                             |
+======================+=================================================+
|`__construct()`_      |MSSQL constructor.                               |
+----------------------+-------------------------------------------------+
|`__destruct()`_       |析构                                             |
+----------------------+-------------------------------------------------+
|`beginTransaction()`_ |开始一个事务                                     |
+----------------------+-------------------------------------------------+
|`clientInfo()`_       |返回关于客户端和指定连接的信息。                 |
+----------------------+-------------------------------------------------+
|`close()`_            |关闭当前数据库连接                               |
+----------------------+-------------------------------------------------+
|`commit()`_           |提交当前事务                                     |
+----------------------+-------------------------------------------------+
|`configure()`_        |更改驱动程序错误处理和日志配置。                 |
+----------------------+-------------------------------------------------+
|`connect()`_          |创建一个数据库连接                               |
+----------------------+-------------------------------------------------+
|`errors()`_           |获取数据库连接的所有错误，                       |
+----------------------+-------------------------------------------------+
|`getConfig()`_        |返回指定配置设置的值。                           |
+----------------------+-------------------------------------------------+
|`prepare()`_          |设置一个预处理语句                               |
+----------------------+-------------------------------------------------+
|`query()`_            |设置一个预处理语句，并执行。                     |
+----------------------+-------------------------------------------------+
|`rollback()`_         |事务回滚                                         |
+----------------------+-------------------------------------------------+
|`serverInfo()`_       |获取数据库服务器信息。                           |
+----------------------+-------------------------------------------------+


方法
======
__construct()
-------------
MSSQL constructor.

.. code-block:: php

  public function __construct (
      string $serverName,
      array $connectionInfo = null
  )


:参数:
  +---------------+---------------------------------------------------------------------+
  |名称           |说明                                                                 |
  +===============+=====================================================================+
  |serverName     |服务器,它可以包含一个端口号，则写法如{name},{port}                   |
  +---------------+---------------------------------------------------------------------+
  |connectionInfo |其他信息                                                             |
  +---------------+---------------------------------------------------------------------+
  
  


__destruct()
------------
析构

.. code-block:: php

  public function __destruct ()



beginTransaction()
------------------
开始一个事务

.. code-block:: php

  public function beginTransaction () : bool


:返回值:
  成功时返回 TRUE， 或者在失败时返回 FALSE。


clientInfo()
------------
返回关于客户端和指定连接的信息。

.. code-block:: php

  public function clientInfo () : array



close()
-------
关闭当前数据库连接

.. code-block:: php

  public function close () : bool


:返回值:
  成功时返回 TRUE， 或者在失败时返回 FALSE。


commit()
--------
提交当前事务

.. code-block:: php

  public function commit () : bool


:返回值:
  成功时返回 TRUE， 或者在失败时返回 FALSE。


configure()
-----------
更改驱动程序错误处理和日志配置。

.. code-block:: php

  public static function configure (
      string $setting,
      mixed $value
  ) : bool


:参数:
  +--------+-------------------------------------------------------------------------------------------+
  |名称    |说明                                                                                       |
  +========+===========================================================================================+
  |setting |设置名。可能的值："WarningsReturnAsErrors", "LogSubsystems", and "LogSeverity"。           |
  +--------+-------------------------------------------------------------------------------------------+
  |value   |设置值。可能的值参照PHP手册                                                                |
  +--------+-------------------------------------------------------------------------------------------+
  
  

:返回值:
  成功时返回 TRUE， 或者在失败时返回 FALSE。


connect()
---------
创建一个数据库连接

.. code-block:: php

  public static function connect (
      string $serverName,
      array $connectionInfo = null
  ) : resource


:参数:
  +---------------+-------------+
  |名称           |说明         |
  +===============+=============+
  |serverName     |服务器名     |
  +---------------+-------------+
  |connectionInfo |设置项       |
  +---------------+-------------+
  
  


errors()
--------
获取数据库连接的所有错误，

.. code-block:: php

  public static function errors (
      int $errorsOrWarnings = null
  ) : array


:参数:
  +-----------------+--------------------------------------------------------------------+
  |名称             |说明                                                                |
  +=================+====================================================================+
  |errorsOrWarnings |可选值：SQLSRV_ERR_ALL, SQLSRV_ERR_ERRORS, SQLSRV_ERR_WARNINGS.     |
  +-----------------+--------------------------------------------------------------------+
  
  

:返回值:
  键名包括SQLSTATE、code、message，没有错误时返回null


getConfig()
-----------
返回指定配置设置的值。

.. code-block:: php

  public static function getConfig (
      string $setting
  ) : mixed


:参数:
  +--------+----------+
  |名称    |说明      |
  +========+==========+
  |setting |设置名    |
  +--------+----------+
  
  


prepare()
---------
设置一个预处理语句

.. code-block:: php

  public function prepare (
      string $sql,
      array $params = null,
      array $options = null
  ) : \fize\db\realization\mssql\mode\driver\sqlsrv\Statement


:参数:
  +--------+----------------------------------------------+
  |名称    |说明                                          |
  +========+==============================================+
  |sql     |预处理SQL语句，支持问号占位符。               |
  +--------+----------------------------------------------+
  |params  |可选的绑定参数                                |
  +--------+----------------------------------------------+
  |options |其他相关参数。                                |
  +--------+----------------------------------------------+
  
  

:返回值:
  使用该对象来进行实际查询


query()
-------
设置一个预处理语句，并执行。

.. code-block:: php

  public function query (
      string $sql,
      array $params = null,
      array $options = null
  ) : \fize\db\realization\mssql\mode\driver\sqlsrv\Statement


:参数:
  +--------+----------------------------------------------+
  |名称    |说明                                          |
  +========+==============================================+
  |sql     |预处理SQL语句，支持问号占位符。               |
  +--------+----------------------------------------------+
  |params  |可选的绑定参数                                |
  +--------+----------------------------------------------+
  |options |其他相关参数。                                |
  +--------+----------------------------------------------+
  
  

:返回值:
  使用该对象来进行实际查询


rollback()
----------
事务回滚

.. code-block:: php

  public function rollback () : bool


:返回值:
  成功返回true，失败返回false。


serverInfo()
------------
获取数据库服务器信息。

.. code-block:: php

  public function serverInfo () : array



