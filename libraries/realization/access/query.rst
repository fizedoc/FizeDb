=========
查询器
=========


+-------------+------------------------------+
|属性         |值                            |
+=============+==============================+
|命名空间     |fize\\db\\realization\\access |
+-------------+------------------------------+
|类名         |Query                         |
+-------------+------------------------------+
|父类         |fize\\db\\definition\\Query   |
+-------------+------------------------------+


:方法:


+-----------------+-------------------------------------------------------------------------+
|方法名           |说明                                                                     |
+=================+=========================================================================+
|`__construct()`_ |构造                                                                     |
+-----------------+-------------------------------------------------------------------------+
|`logic()`_       |设置本对象当前每个条件的组合逻辑                                         |
+-----------------+-------------------------------------------------------------------------+
|`object()`_      |设定当前操作对象                                                         |
+-----------------+-------------------------------------------------------------------------+
|`field()`_       |设定当前操作字段                                                         |
+-----------------+-------------------------------------------------------------------------+
|`sql()`_         |返回查询语句SQL预处理语句块                                              |
+-----------------+-------------------------------------------------------------------------+
|`params()`_      |获取完整的参数绑定数组                                                   |
+-----------------+-------------------------------------------------------------------------+
|`exp()`_         |使用原始表达式语句设置条件                                               |
+-----------------+-------------------------------------------------------------------------+
|`condition()`_   |使用条件语句设置条件                                                     |
+-----------------+-------------------------------------------------------------------------+
|`gt()`_          |使用条件“大于”设置条件                                                   |
+-----------------+-------------------------------------------------------------------------+
|`egt()`_         |使用条件“大于等于”设置条件                                               |
+-----------------+-------------------------------------------------------------------------+
|`lt()`_          |使用条件“小于”设置条件                                                   |
+-----------------+-------------------------------------------------------------------------+
|`elt()`_         |使用条件“小于等于”设置条件                                               |
+-----------------+-------------------------------------------------------------------------+
|`eq()`_          |使用条件“等于”设置条件                                                   |
+-----------------+-------------------------------------------------------------------------+
|`neq()`_         |使用条件“不等于”设置条件                                                 |
+-----------------+-------------------------------------------------------------------------+
|`between()`_     |使用“BETWEEN...AND”语句设置条件                                          |
+-----------------+-------------------------------------------------------------------------+
|`notBetween()`_  |使用“NOT BETWEEN...AND”语句设置条件                                      |
+-----------------+-------------------------------------------------------------------------+
|`exists()`_      |使用“EXISTS”子语句设置条件                                               |
+-----------------+-------------------------------------------------------------------------+
|`notExists()`_   |使用“NOT EXISTS”子语句设置条件                                           |
+-----------------+-------------------------------------------------------------------------+
|`isIn()`_        |使用“IN”语句设置条件                                                     |
+-----------------+-------------------------------------------------------------------------+
|`notIn()`_       |使用“NOT IN”语句设置条件                                                 |
+-----------------+-------------------------------------------------------------------------+
|`like()`_        |使用“LIKE”语句设置条件                                                   |
+-----------------+-------------------------------------------------------------------------+
|`notLike()`_     |使用“NOT LIKE”语句设置条件                                               |
+-----------------+-------------------------------------------------------------------------+
|`isNull()`_      |使用“IS NULL”语句设置条件                                                |
+-----------------+-------------------------------------------------------------------------+
|`notNull()`_     |使用“IS NOT NULL”语句设置条件                                            |
+-----------------+-------------------------------------------------------------------------+
|`analyze()`_     |解析一个条件数组，返回Query                                              |
+-----------------+-------------------------------------------------------------------------+
|`qMerge()`_      |以指定形式组合Query对象,或者指可以使用analyze()的数组                    |
+-----------------+-------------------------------------------------------------------------+
|`qAnd()`_        |以AND形式组合Query对象,或者指可以使用analyze()的数组                     |
+-----------------+-------------------------------------------------------------------------+
|`qOr()`_         |以OR形式组合Query对象,或者指可以使用analyze()的数组                      |
+-----------------+-------------------------------------------------------------------------+


方法
======
__construct()
-------------
构造

.. code-block:: php

  public function __construct (
      string $object = null
  )


:参数:
  +-------+----------------------------------------------+
  |名称   |说明                                          |
  +=======+==============================================+
  |object |要进行判断的对象，一般为字段名                |
  +-------+----------------------------------------------+
  
  


logic()
-------
设置本对象当前每个条件的组合逻辑

.. code-block:: php

  public function logic (
      string|bool $logic
  ) : $this


:参数:
  +-------+-------------------------------------------------------------------------------------------------------------------------------+
  |名称   |说明                                                                                                                           |
  +=======+===============================================================================================================================+
  |logic  |组合逻辑，不区分大小写，未调用该方法是默认组合逻辑为“AND”,特殊值true表示AND，false表示OR                                       |
  +-------+-------------------------------------------------------------------------------------------------------------------------------+
  
  


object()
--------
设定当前操作对象

.. code-block:: php

  public function object (
      string $object
  ) : $this


:参数:
  +-------+----------------------------------+
  |名称   |说明                              |
  +=======+==================================+
  |object |操作对象，通常为字段名            |
  +-------+----------------------------------+
  
  


field()
-------
设定当前操作字段

.. code-block:: php

  public function field (
      string $field_name
  ) : $this


:参数:
  +-----------+----------+
  |名称       |说明      |
  +===========+==========+
  |field_name |字段名    |
  +-----------+----------+
  
  


sql()
-----
返回查询语句SQL预处理语句块

.. code-block:: php

  public function sql () : string



params()
--------
获取完整的参数绑定数组

.. code-block:: php

  public function params () : array



exp()
-----
使用原始表达式语句设置条件

.. code-block:: php

  public function exp (
      string $expression,
      array|string|null $params = null
  ) : $this


:参数:
  +-----------+--------------------------------------------------------------------------------------------------------------+
  |名称       |说明                                                                                                          |
  +===========+==============================================================================================================+
  |expression |表达式语句                                                                                                    |
  +-----------+--------------------------------------------------------------------------------------------------------------+
  |params     |要绑定的数组，如果是单个绑定可以直接传入值，不需要绑定请不传递或者传递null                                    |
  +-----------+--------------------------------------------------------------------------------------------------------------+
  
  


condition()
-----------
使用条件语句设置条件

.. code-block:: php

  public function condition (
      string $judge,
      mixed $value,
      array|bool|null $params = null
  ) : $this


:参数:
  +-------+----------------------------------------------------------------------------------------------+
  |名称   |说明                                                                                          |
  +=======+==============================================================================================+
  |judge  |判断符                                                                                        |
  +-------+----------------------------------------------------------------------------------------------+
  |value  |判断量，该值必须为标量                                                                        |
  +-------+----------------------------------------------------------------------------------------------+
  |params |参数绑定数组，特殊值false表示不绑定参数，null表示自动判断是否绑定                             |
  +-------+----------------------------------------------------------------------------------------------+
  
  


gt()
----
使用条件“大于”设置条件

.. code-block:: php

  public function gt (
      mixed $value
  ) : $this


:参数:
  +-------+----------+
  |名称   |说明      |
  +=======+==========+
  |value  |判断值    |
  +-------+----------+
  
  


egt()
-----
使用条件“大于等于”设置条件

.. code-block:: php

  public function egt (
      mixed $value
  ) : $this


:参数:
  +-------+----------+
  |名称   |说明      |
  +=======+==========+
  |value  |判断值    |
  +-------+----------+
  
  


lt()
----
使用条件“小于”设置条件

.. code-block:: php

  public function lt (
      mixed $value
  ) : $this


:参数:
  +-------+----------+
  |名称   |说明      |
  +=======+==========+
  |value  |判断值    |
  +-------+----------+
  
  


elt()
-----
使用条件“小于等于”设置条件

.. code-block:: php

  public function elt (
      mixed $value
  ) : $this


:参数:
  +-------+----------+
  |名称   |说明      |
  +=======+==========+
  |value  |判断值    |
  +-------+----------+
  
  


eq()
----
使用条件“等于”设置条件

.. code-block:: php

  public function eq (
      mixed $value
  ) : $this


:参数:
  +-------+----------+
  |名称   |说明      |
  +=======+==========+
  |value  |判断值    |
  +-------+----------+
  
  


neq()
-----
使用条件“不等于”设置条件

.. code-block:: php

  public function neq (
      mixed $value
  ) : $this


:参数:
  +-------+----------+
  |名称   |说明      |
  +=======+==========+
  |value  |判断值    |
  +-------+----------+
  
  


between()
---------
使用“BETWEEN...AND”语句设置条件

.. code-block:: php

  public function between (
      mixed $value1,
      mixed $value2,
      string $premodifier = ""
  ) : $this


:参数:
  +------------+-------------+
  |名称        |说明         |
  +============+=============+
  |value1      |值1          |
  +------------+-------------+
  |value2      |值2          |
  +------------+-------------+
  |premodifier |前置修饰     |
  +------------+-------------+
  
  


notBetween()
------------
使用“NOT BETWEEN...AND”语句设置条件

.. code-block:: php

  public function notBetween (
      mixed $value1,
      mixed $value2
  ) : $this


:参数:
  +-------+-------+
  |名称   |说明   |
  +=======+=======+
  |value1 |值1    |
  +-------+-------+
  |value2 |值2    |
  +-------+-------+
  
  


exists()
--------
使用“EXISTS”子语句设置条件

.. code-block:: php

  public function exists (
      string $expression,
      array|bool|null $params = null,
      string $premodifier = ""
  ) : $this


:参数:
  +------------+-------------------------------------------+
  |名称        |说明                                       |
  +============+===========================================+
  |expression  |EXISTS语句部分、注意是不含EXISTS           |
  +------------+-------------------------------------------+
  |params      |参数绑定数组                               |
  +------------+-------------------------------------------+
  |premodifier |前置修饰                                   |
  +------------+-------------------------------------------+
  
  


::

    使用EXISTS语句时不需要指定对象object，指定时在exists方法中也没有任何作用，但可以作为对象内条件合并使用


notExists()
-----------
使用“NOT EXISTS”子语句设置条件

.. code-block:: php

  public function notExists (
      string $expression,
      array|bool|null $params = null
  ) : $this


:参数:
  +-----------+-------------------------------------------+
  |名称       |说明                                       |
  +===========+===========================================+
  |expression |EXISTS语句部分、注意是不含EXISTS           |
  +-----------+-------------------------------------------+
  |params     |参数绑定数组                               |
  +-----------+-------------------------------------------+
  
  


::

    使用EXISTS语句时不需要指定对象obj，指定时在exists方法中也没有任何作用，但可以作为对象内条件合并使用


isIn()
------
使用“IN”语句设置条件

.. code-block:: php

  public function isIn (
      array|string $values,
      string $premodifier = ""
  ) : $this


:参数:
  +------------+-------------------------------------------------------------------------------+
  |名称        |说明                                                                           |
  +============+===============================================================================+
  |values      |可以传入数组(推荐)，或者IN条件对应字符串(左右括号可选)                         |
  +------------+-------------------------------------------------------------------------------+
  |premodifier |前置修饰                                                                       |
  +------------+-------------------------------------------------------------------------------+
  
  


notIn()
-------
使用“NOT IN”语句设置条件

.. code-block:: php

  public function notIn (
      array|string $values
  ) : $this


:参数:
  +-------+-------------------------------------------------------------------------------+
  |名称   |说明                                                                           |
  +=======+===============================================================================+
  |values |可以传入数组(推荐)，或者IN条件对应字符串(左右括号可选)                         |
  +-------+-------------------------------------------------------------------------------+
  
  


like()
------
使用“LIKE”语句设置条件

.. code-block:: php

  public function like (
      string $value,
      string $premodifier = ""
  ) : $this


:参数:
  +------------+--------------+
  |名称        |说明          |
  +============+==============+
  |value       |LIKE字符串    |
  +------------+--------------+
  |premodifier |前置修饰      |
  +------------+--------------+
  
  


notLike()
---------
使用“NOT LIKE”语句设置条件

.. code-block:: php

  public function notLike (
      string $value
  ) : $this


:参数:
  +-------+--------------+
  |名称   |说明          |
  +=======+==============+
  |value  |LIKE字符串    |
  +-------+--------------+
  
  


isNull()
--------
使用“IS NULL”语句设置条件

.. code-block:: php

  public function isNull () : $this



notNull()
---------
使用“IS NOT NULL”语句设置条件

.. code-block:: php

  public function notNull () : $this



analyze()
---------
解析一个条件数组，返回Query

.. code-block:: php

  public function analyze (
      array $maps
  ) : $this


:参数:
  +-------+----------------------------+
  |名称   |说明                        |
  +=======+============================+
  |maps   |一定格式的条件数组          |
  +-------+----------------------------+
  
  


qMerge()
--------
以指定形式组合Query对象,或者指可以使用analyze()的数组

.. code-block:: php

  public function qMerge (
      string $logic,
      \fize\db\realization\access\Query|array $query
  ) : $this


:参数:
  +-------+------------------------------------------------------------+
  |名称   |说明                                                        |
  +=======+============================================================+
  |logic  |组合逻辑                                                    |
  +-------+------------------------------------------------------------+
  |query  |可以是Query对象或者指可以使用analyze()的数组                |
  +-------+------------------------------------------------------------+
  
  


qAnd()
------
以AND形式组合Query对象,或者指可以使用analyze()的数组

.. code-block:: php

  public function qAnd (
      \fize\db\realization\access\Query|array $query
  ) : $this


:参数:
  +-------+------------------------------------------------------------+
  |名称   |说明                                                        |
  +=======+============================================================+
  |query  |可以是Query对象或者指可以使用analyze()的数组                |
  +-------+------------------------------------------------------------+
  
  


qOr()
-----
以OR形式组合Query对象,或者指可以使用analyze()的数组

.. code-block:: php

  public function qOr (
      \fize\db\realization\access\Query|array $query
  ) : $this


:参数:
  +-------+------------------------------------------------------------+
  |名称   |说明                                                        |
  +=======+============================================================+
  |query  |可以是Query对象或者指可以使用analyze()的数组                |
  +-------+------------------------------------------------------------+
  
  


