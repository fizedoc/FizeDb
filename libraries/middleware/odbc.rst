====
ODBC
====


+-------------+---------------------+
|属性         |值                   |
+=============+=====================+
|命名空间     |fize\\db\\middleware |
+-------------+---------------------+
|类名         |Odbc                 |
+-------------+---------------------+


:方法:


+----------------+----------------------------------------------------------------+
|方法名          |说明                                                            |
+================+================================================================+
|`prototype()`_  |返回当前使用的数据库对象原型，用于原生操作                      |
+----------------+----------------------------------------------------------------+
|`query()`_      |执行一个SQL语句并返回相应结果                                   |
+----------------+----------------------------------------------------------------+
|`startTrans()`_ |开始事务                                                        |
+----------------+----------------------------------------------------------------+
|`commit()`_     |执行事务                                                        |
+----------------+----------------------------------------------------------------+
|`rollback()`_   |回滚事务                                                        |
+----------------+----------------------------------------------------------------+


方法
======
prototype()
-----------
返回当前使用的数据库对象原型，用于原生操作

.. code-block:: php

  public function prototype () : \fize\db\middleware\driver\Odbc



query()
-------
执行一个SQL语句并返回相应结果

.. code-block:: php

  public function query (
      string $sql,
      array $params = [],
      callable $callback = null
  ) : array|int


:参数:
  +---------+----------------------------------------------------------------------------------+
  |名称     |说明                                                                              |
  +=========+==================================================================================+
  |sql      |SQL语句，支持原生的ODBC问号预处理                                                 |
  +---------+----------------------------------------------------------------------------------+
  |params   |可选的绑定参数                                                                    |
  +---------+----------------------------------------------------------------------------------+
  |callback |如果定义该记录集回调函数则不返回数组而直接进行循环回调                            |
  +---------+----------------------------------------------------------------------------------+
  
  

:返回值:
  SELECT语句返回数组，其余返回受影响行数。


startTrans()
------------
开始事务

.. code-block:: php

  public function startTrans ()



commit()
--------
执行事务

.. code-block:: php

  public function commit ()



rollback()
----------
回滚事务

.. code-block:: php

  public function rollback ()



